# 文件夹注释工具测试指南

本文档提供了文件夹注释工具的测试方法和流程，帮助您验证工具的功能是否正常工作。

## 测试工具概述

文件夹注释工具提供了以下测试相关功能：

1. **自动化单元测试**：验证核心功能的正确性
2. **测试环境创建**：自动创建测试文件夹和注释
3. **测试运行器**：一键运行所有测试
4. **测试环境清理**：清理测试文件夹和注释

## 测试菜单

在Unity编辑器的顶部菜单栏中，您可以找到以下测试相关菜单项：

- **TATools > 文件夹注释工具 > 创建测试文件夹**：创建测试用的文件夹结构
- **TATools > 文件夹注释工具 > 添加测试注释模板**：为测试文件夹添加预定义的注释
- **TATools > 文件夹注释工具 > 清除测试注释**：清除测试文件夹中的注释
- **TATools > 文件夹注释工具 > 删除测试文件夹**：删除测试文件夹
- **TATools > 文件夹注释工具 > 运行所有测试**：运行所有单元测试
- **TATools > 文件夹注释工具 > 创建测试环境并运行测试**：一键创建测试环境并运行测试
- **TATools > 文件夹注释工具 > 清理测试环境**：清理测试环境

## 测试流程

### 方法一：一键测试（推荐）

1. 点击 **TATools > 文件夹注释工具 > 创建测试环境并运行测试**
2. 等待测试完成，查看测试结果
3. 测试完成后，点击 **TATools > 文件夹注释工具 > 清理测试环境**

### 方法二：手动测试

1. 点击 **TATools > 文件夹注释工具 > 创建测试文件夹**
2. 点击 **TATools > 文件夹注释工具 > 添加测试注释模板**
3. 在Project窗口中查看测试文件夹，验证注释是否正确显示
4. 选择测试文件夹，在Inspector面板中编辑注释
5. 点击 **TATools > 文件夹注释工具 > 运行所有测试**
6. 测试完成后，点击 **TATools > 文件夹注释工具 > 清除测试注释**
7. 点击 **TATools > 文件夹注释工具 > 删除测试文件夹**

## 测试文件夹结构

测试工具会在`Assets/TestFolders`目录下创建以下文件夹结构：

- `Scripts`：脚本文件夹
- `Prefabs`：预制体文件夹
- `3DModels`：3D模型文件夹
- `Art`：美术资源文件夹
  - `Textures`：纹理资源文件夹
- `EmptyFolder`：空文件夹
- `Nested/Level1/Level2`：多层嵌套文件夹
- `RichText`：富文本测试文件夹
- `LongComment`：长注释测试文件夹

## 测试用例说明

### 单元测试

单元测试位于`Assets/FolderCommentTool/Editor/Tests`目录下，包含以下测试用例：

1. **TestFolderCommentManager**：测试FolderCommentManager实例创建
2. **TestFolderCommentSettings**：测试设置的默认值和功能
3. **TestFolderCommentStyles**：测试样式创建和属性
4. **TestAddAndRemoveComment**：测试添加、更新和删除注释
5. **TestPathBasedOperations**：测试基于路径的操作
6. **TestRichTextComment**：测试富文本注释
7. **TestUtilityFunctions**：测试工具函数

### 手动测试项

除了自动化单元测试外，您还可以手动测试以下功能：

1. **列表视图和图标视图**：在Project窗口中切换列表视图和图标视图，验证注释显示是否正确
2. **富文本支持**：验证富文本标签是否正确渲染
3. **长注释显示**：验证长注释是否正确换行和裁剪
4. **嵌套文件夹**：验证多层嵌套文件夹的注释显示
5. **编辑模式切换**：在设置中切换编辑模式，验证Inspector面板的显示是否正确

## 测试结果解读

测试运行完成后，控制台会显示测试结果，包括：

- 通过的测试数量
- 失败的测试数量
- 跳过的测试数量

如果有测试失败，控制台会显示详细的错误信息和堆栈跟踪，帮助您定位问题。

## 常见问题

1. **测试文件夹创建失败**：确保`Assets`目录存在且有写入权限
2. **测试运行失败**：检查控制台错误信息，可能是代码中存在bug
3. **测试环境清理失败**：尝试手动删除`Assets/TestFolders`目录

## 扩展测试

如果您需要添加新的测试用例，可以：

1. 在`FolderCommentTest.cs`中添加新的测试方法
2. 在`FolderCommentTestHelper.cs`中的`TestFolderTemplates`字典中添加新的测试文件夹和注释模板

## 结论

通过这些测试工具和流程，您可以确保文件夹注释工具的功能正常工作，并在修改代码后验证功能的完整性。建议在每次修改代码后运行测试，确保不会引入新的bug。
